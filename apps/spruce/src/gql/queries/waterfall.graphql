#import "../fragments/upstreamProject.graphql"

query Waterfall($options: WaterfallOptions!) {
  waterfall(options: $options) {
    buildVariants {
      builds {
        activated
        displayName
        id
        tasks {
          displayName
          displayStatusCache
          execution
          id
          status
        }
        version
      }
      displayName
      id
      version
    }
    flattenedVersions {
      activated
      author
      createTime
      errors
      gitTags {
        tag
      }
      id
      message
      order
      requester
      revision
      taskStatusStats(options: {}) {
        counts {
          count
          status
        }
      }
      ...UpstreamProject
    }
    pagination {
      hasNextPage
      hasPrevPage
      nextPageOrder
      prevPageOrder
    }
  }
}
